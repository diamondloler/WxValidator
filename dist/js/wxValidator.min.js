!function(e,t){"object"==typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):e.WxValidator=t()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(){var e=function(e,t,r){this.rules=function(e){for(var t in e)e[t]=e[t].split("|");return e}(t),this.src=e,this.messages=r,this.collectedErrors=Object.create(null)};function d(e,t){var r=e[t];e.splice(t,1),console.warn('Rule name: "'+r+"\", please don't add the rule of unregistered for data that it be verify")}return e.prototype.ruleMethods={required:function(e){return!/^\s*$/.test(e)},phone:function(e){return/^1[34578]\d{9}$/.test(e)},date:function(e){return/^[1-9]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/.test(e)},email:function(e){return/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/.test(e)}},e.prototype.getValue=function(e){return this.src[e]},e.prototype.validate=function(){var e,t,r,n,o,i,u,s,l,c=!0;for(var a in this.src){if(e=this.rules[a],null==(t=this.getValue(a)))return;if(void(o=0)!==e)for(;r=e[o++];)(n=this.getCheckFunc(r))?!1===n(t)&&(c=!1,void 0,s=r+"."+(u=a),l=(i=this).messages[s],(i.collectedErrors[u]||(i.collectedErrors[u]=[])).push(l||"默认错误")):d(e,o)}return c},e.prototype.getCheckFunc=function(e){return this.ruleMethods[e]},e.prototype.getError=function(e){return this.collectedErrors[e]||null},e.register=function(e,t){if("function"!=typeof t)throw new Error("The handler must be a function");this.prototype.ruleMethods[e]=t},e.singleValid=function(e,t,r){try{var n=this.prototype.getCheckFunc(t)(e)}catch(e){throw new Error("WxValidator.singleValid can not call the rule of undefined")}return{result:n,msg:!1===n&&r||"正确"}},e});
//# sourceMappingURL=wxValidator.min.js.map
