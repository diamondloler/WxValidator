!function(t,e){"object"==typeof module&&module.exports?module.exports=e():"function"==typeof define&&define.amd?define([],e):t.WxValidator=e()}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(){var t=function(t,e,r){this.rules=function(t){for(var e in t)t[e]=t[e].split("|");return t}(e),this.src=t,this.messages=r,this.allErrors=Object.create(null)};return t.prototype.ruleMethods={required:function(t){return!/^\s*$/.test(t)},phone:function(t){return/^[0-9]{11}$/.test(t)},date:function(t){return/^[1-9]\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/.test(t)},email:function(t){return/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/.test(t)}},t.prototype.validate=function(){var t,e,r,n,o,i=!0;for(var s in this.src){t=this.rules[s],e=this.src[s];var u=0;if(void 0!==t)for(;r=t[u++];)(n=this.getCheckFunc(r))?!1===n(e)&&(i=!1,o=this.messages[r+"."+s],(this.allErrors[s]||(this.allErrors[s]=[])).push(o||"默认错误(未添加自定义错误信息)")):(t.splice(u,1),console.warn('Rule name: "'+r+"\", please don't add the rule of unregistered for data that it be verify"))}return i},t.prototype.getCheckFunc=function(t){return this.ruleMethods[t]},t.prototype.getError=function(t){return this.allErrors[t]||null},t.register=function(t,e){if("function"!=typeof e)throw new Error("The handler must be a function");this.prototype.ruleMethods[t]=e},t.singleValid=function(t,e,r){try{var n=this.prototype.getCheckFunc(e)(t)}catch(t){throw new Error("WxValidator.singleValid can not call the rule of undefined")}return{result:n,msg:!1===n&&r||"正确"}},t});
//# sourceMappingURL=wxValidator.min.js.map
